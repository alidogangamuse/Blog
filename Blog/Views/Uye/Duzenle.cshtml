@using Blog.Models
@model Uye
@{
    ViewBag.Title = "Duzenle";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Content/vendor/jquery/jquery.min.js"></script>
<script src="~/Content/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="~/Content/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="container">
        <div class="card card-login mx-auto my-4">
            <div class="card-header"><h4><b>Şifremi Unuttum</b></h4></div>
            <div class="card-body">
                <form>
                    @if (ViewBag.Uyari == null)
                    {
                        @*<div class="container">
                                <input id="email" placeholder="eposta"></input>
                                <button type="button" class="btn btn-success" id="button">Gönder</button>
                            </div>*@
                        <div class="col-auto my-4 ">
                            <label class="sr-only" for="inlineFormInputGroup">Username</label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">@@</div>
                                </div>
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @required = "", @type = "email", @placeholder = "Email Adresiniz", @id = "email" } })
                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 my-4">
                                    <button type="submit" id="button" class="btn btn-success"><span class="fa fa-send"></span> Gönder</button>
                                </div>
                            </div>

                            @*<button type="button" class="btn btn-success" id="button">Gönder</button>*@
                        </div>
                    }
                    else
                    {

                        <div class="col-auto my-4 ">
                            <label class="sr-only" for="inlineFormInputGroup">Username</label>
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">@@</div>
                                </div>
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @required = "", @type = "email", @placeholder = "Email Adresiniz", @id = "email" } })
                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 my-4">
                                    <button type="submit" id="button" class="btn btn-success"><span class="fa fa-send"></span> Gönder</button>
                                </div>
                            </div>
                            @*<button type="button" class="btn btn-success" id="button">Gönder</button>*@
                        </div>
                        <div class="alert alert-danger alert-dismissable ">
                            <a class="panel-close close" data-dismiss="alert">×</a>
                            <b>@ViewBag.Uyari</b>
                        </div>

                        @*<div class="container">
                                <textarea id="email" placeholder="eposta"></textarea>
                                <button type="button" class="btn btn-success" id="button">Gönder</button>


                                <b>@ViewBag.Uyari</b>

                            </div>*@
                    }
                </form>
            </div>
        </div>
    </div>
}

@*<script>
    $(function () {
        $('#button').click(function () {
            var eposta = $('#email').val();

            $.ajax({
                method: "POST",
                url: "/Uye/Duzenle",
                data: { veri: eposta }
            }).done(function (d) {
                var a = "";
                for (var i in d) {
                    a = d[i];
                    a.hide();
                }
            });
        })

    })
</script>*@